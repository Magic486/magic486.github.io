<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>博客购买域名和CDN加速 | 我吃马铃薯</title><meta name="author" content="叶落"><meta name="copyright" content="叶落"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="一.Cloudflare 的免费 CDN加速服务1.阿里云购买.top域名我的博客链接我吃马铃薯 由于.top结尾的域名最为便宜，首年只需要1块钱，所以我就购买了这个注：购买域名需要备案，一般20分钟内就可以搞定域名控制台 2.将“域名解析权”交给 Cloudflare 在 Cloudflare 中添加域名：  登录 Cloudflare，点击右上角的 “添加站点 (Add site)”。  输入">
<meta property="og:type" content="article">
<meta property="og:title" content="博客购买域名和CDN加速">
<meta property="og:url" content="https://www.magic486.top/2026/01/20/%E5%8D%9A%E5%AE%A2%E8%B4%AD%E4%B9%B0%E5%9F%9F%E5%90%8D%E5%92%8CCDN%E5%8A%A0%E9%80%9F/index.html">
<meta property="og:site_name" content="我吃马铃薯">
<meta property="og:description" content="一.Cloudflare 的免费 CDN加速服务1.阿里云购买.top域名我的博客链接我吃马铃薯 由于.top结尾的域名最为便宜，首年只需要1块钱，所以我就购买了这个注：购买域名需要备案，一般20分钟内就可以搞定域名控制台 2.将“域名解析权”交给 Cloudflare 在 Cloudflare 中添加域名：  登录 Cloudflare，点击右上角的 “添加站点 (Add site)”。  输入">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://www.magic486.top/image/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20250311204951.jpg">
<meta property="article:published_time" content="2026-01-20T14:10:34.599Z">
<meta property="article:modified_time" content="2026-01-20T14:10:34.599Z">
<meta property="article:author" content="叶落">
<meta property="article:tag" content="博客构建">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://www.magic486.top/image/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20250311204951.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "博客购买域名和CDN加速",
  "url": "https://www.magic486.top/2026/01/20/%E5%8D%9A%E5%AE%A2%E8%B4%AD%E4%B9%B0%E5%9F%9F%E5%90%8D%E5%92%8CCDN%E5%8A%A0%E9%80%9F/",
  "image": "https://www.magic486.top/image/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20250311204951.jpg",
  "datePublished": "2026-01-20T14:10:34.599Z",
  "dateModified": "2026-01-20T14:10:34.599Z",
  "author": [
    {
      "@type": "Person",
      "name": "叶落",
      "url": "https://www.magic486.top/"
    }
  ]
}</script><link rel="shortcut icon" href="/image/%E5%B8%A6%E5%AE%BD_%E7%88%B1%E7%BB%99%E7%BD%91_aigei_com.png"><link rel="canonical" href="https://www.magic486.top/2026/01/20/%E5%8D%9A%E5%AE%A2%E8%B4%AD%E4%B9%B0%E5%9F%9F%E5%90%8D%E5%92%8CCDN%E5%8A%A0%E9%80%9F/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!true && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":false,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":true},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '博客购买域名和CDN加速',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="stylesheet" href="/themes/butterfly/source/css/background.css"><meta name="generator" content="Hexo 7.3.0"></head><body><div id="web_bg" style="background-image: url(/image/微信图片_20250227225824.jpg);"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/image/assetsavatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">12</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">3</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-envelope"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background: transparent;"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">我吃马铃薯</span></a><a class="nav-page-title" href="/"><span class="site-name">博客购买域名和CDN加速</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-envelope"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">博客购买域名和CDN加速</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2026-01-20T14:10:34.599Z" title="发表于 2026-01-20 22:10:34">2026-01-20</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2026-01-20T14:10:34.599Z" title="更新于 2026-01-20 22:10:34">2026-01-20</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1 id="一-Cloudflare-的免费-CDN加速服务"><a href="#一-Cloudflare-的免费-CDN加速服务" class="headerlink" title="一.Cloudflare 的免费 CDN加速服务"></a>一.Cloudflare 的免费 CDN加速服务</h1><h2 id="1-阿里云购买-top域名"><a href="#1-阿里云购买-top域名" class="headerlink" title="1.阿里云购买.top域名"></a>1.阿里云购买.top域名</h2><p>我的博客链接<a href="https://www.magic486.top/">我吃马铃薯</a></p>
<p>由于.top结尾的域名最为便宜，首年只需要1块钱，所以我就购买了这个<br>注：购买域名需要备案，一般20分钟内就可以搞定<br><a target="_blank" rel="noopener" href="https://dc.console.aliyun.com/?spm=5176.27097949.J_9138996270.1.52cb4b59NCGbuc#/domain-list/all">域名控制台</a></p>
<h2 id="2-将“域名解析权”交给-Cloudflare"><a href="#2-将“域名解析权”交给-Cloudflare" class="headerlink" title="2.将“域名解析权”交给 Cloudflare"></a>2.将“域名解析权”交给 Cloudflare</h2><ol>
<li><p><strong>在 Cloudflare 中添加域名：</strong></p>
<ul>
<li><p>登录 <a target="_blank" rel="noopener" href="https://dash.cloudflare.com/">Cloudflare</a>，点击右上角的 <strong>“添加站点 (Add site)”</strong>。</p>
</li>
<li><p>输入你刚买的域名（比如 <code>yexufeng.top</code>），点击继续。</p>
</li>
<li><p>选择 <strong>“Free (免费)”</strong> 计划，点击继续。</p>
</li>
<li><p>Cloudflare 会扫描你当前的 DNS 记录，直接拉到底部点击继续。</p>
</li>
<li><p><strong>关键点来了：</strong> Cloudflare 会给你两个 <strong>Nameservers (名称服务器)<strong>，通常长这样：<code>linda.ns.cloudflare.com</code> 和 <code>tom.ns.cloudflare.com</code>。</strong>复制这两个地址。</strong></p>
</li>
</ul>
</li>
<li><p><strong>去你买域名的平台修改 DNS：</strong></p>
<ul>
<li><p>登录你买域名的平台（比如阿里云控制台）。</p>
</li>
<li><p>找到你的域名列表，点击“管理”或“解析”。</p>
</li>
<li><p>找到 <strong>“DNS 服务器”</strong> 或 <strong>“修改 DNS&#x2F;Nameservers”</strong> 的选项。</p>
</li>
<li><p>把里面默认的地址删掉，填入刚才在 Cloudflare 复制的两个地址。</p>
</li>
<li><p>保存。</p>
</li>
</ul>
</li>
<li><p><strong>等待生效：</strong> 回到 Cloudflare 点击“检查名称服务器”。这个过程大概需要 5-15 分钟（最长 24 小时）。当你收到 Cloudflare 发来的邮件说“Status: Active”，就成功了。</p>
</li>
</ol>
<h2 id="3-在-Cloudflare-中添加-CNAME-记录（并点亮小黄云）"><a href="#3-在-Cloudflare-中添加-CNAME-记录（并点亮小黄云）" class="headerlink" title="3. 在 Cloudflare 中添加 CNAME 记录（并点亮小黄云）"></a>3. 在 Cloudflare 中添加 CNAME 记录（并点亮小黄云）</h2><p>现在 Cloudflare 已经接管了你的域名，我们需要告诉它：访问这个域名时，去哪个服务器拿数据。</p>
<ol>
<li><p>进入 Cloudflare 后台，点击你的域名，左侧菜单选择 <strong>“DNS” -&gt; “记录 (Records)”</strong>。</p>
</li>
<li><p>点击 <strong>“添加记录 (Add record)”</strong>。我们要添加<strong>两条</strong>记录，确保加了 <code>www</code> 的和不加的都能访问。</p>
<ul>
<li><p><strong>第一条记录（针对 yexufeng.top）：</strong></p>
<ul>
<li><p>类型 (Type)：选 <strong>CNAME</strong></p>
</li>
<li><p>名称 (Name)：填 <strong><code>@</code></strong> （代表主域名）</p>
</li>
<li><p>目标 (Target)：填你的 GitHub Pages 地址，例如 <strong><code>你的用户名.github.io</code></strong></p>
</li>
<li><p>代理状态 (Proxy status)：<strong>确保“小云朵”图标是橘黄色的（Proxy 开启状态）</strong>。</p>
</li>
<li><p>点击保存。</p>
</li>
</ul>
</li>
<li><p><strong>第二条记录（针对 <a href="http://www.yexufeng.top）：">www.yexufeng.top）：</a></strong></p>
<ul>
<li><p>类型 (Type)：选 <strong>CNAME</strong></p>
</li>
<li><p>名称 (Name)：填 <strong><code>www</code></strong></p>
</li>
<li><p>目标 (Target)：同样填 <strong><code>你的用户名.github.io</code></strong></p>
</li>
<li><p>代理状态：<strong>同样点亮小云朵</strong>。</p>
</li>
<li><p>点击保存。</p>
</li>
</ul>
</li>
</ul>
</li>
</ol>
<h2 id="4-调整-Cloudflare-的-SSL-安全设置"><a href="#4-调整-Cloudflare-的-SSL-安全设置" class="headerlink" title="4. 调整 Cloudflare 的 SSL 安全设置"></a>4. 调整 Cloudflare 的 SSL 安全设置</h2><p>在进行 GitHub 设置前，这一步如果不做，你的网站<strong>绝对会打不开</strong>（会出现“重定向次数过多”错误）。</p>
<ol>
<li><p>在 Cloudflare 左侧菜单选择 <strong>“SSL&#x2F;TLS” -&gt; “概述 (Overview)”</strong>。</p>
</li>
<li><p>将 SSL 加密模式从默认的“灵活 (Flexible)”修改为 <strong>“完全 (Full)”</strong> 或者 <strong>“完全严格 (Full (Strict))”</strong>。</p>
</li>
</ol>
<p>_原理解释：GitHub Pages 本身强制开启了 HTTPS 安全连接。如果你选“灵活”，Cloudflare 会用 HTTP（不安全）去访问 GitHub，GitHub 会强制把它跳回 HTTPS，形成无限死循环。</p>
<h2 id="5-在-GitHub-中认领你的新域名"><a href="#5-在-GitHub-中认领你的新域名" class="headerlink" title="5.在 GitHub 中认领你的新域名"></a>5.在 GitHub 中认领你的新域名</h2><p>最后一步，告诉 GitHub 服务器：“嘿，以后如果有通过 <code>yexufeng.top</code> 来的请求，你把它对应到我的博客仓库里。”</p>
<ol>
<li><p>打开你的博客 GitHub 仓库，点击顶部的 **Settings (设置)**。</p>
</li>
<li><p>在左侧菜单点击 <strong>Pages</strong>。</p>
</li>
<li><p>在 <strong>Custom domain (自定义域名)</strong> 框里，填入你的域名（建议填带 www 的，比如 <code>www.yexufeng.top</code>）。</p>
</li>
<li><p>点击 <strong>Save</strong>。</p>
</li>
<li><p>GitHub 会开始验证 DNS（“DNS check in progress…”）。因为你走了 Cloudflare 代理，这里可能需要等几分钟。</p>
</li>
<li><p>下方有一个 <strong>“Enforce HTTPS”</strong> 的选项，<strong>务必勾选它</strong>。</p>
</li>
</ol>
<h1 id="二-CI-CD-自动化部署"><a href="#二-CI-CD-自动化部署" class="headerlink" title="二.CI&#x2F;CD 自动化部署"></a>二.CI&#x2F;CD 自动化部署</h1><h3 id="步骤：本地写-Markdown-git-push-GitHub-Actions-自动构建-推送到-gh-pages-分支-网站更新。"><a href="#步骤：本地写-Markdown-git-push-GitHub-Actions-自动构建-推送到-gh-pages-分支-网站更新。" class="headerlink" title="步骤：本地写 Markdown -&gt; git push -&gt; GitHub Actions 自动构建 -&gt; 推送到 gh-pages 分支 -&gt; 网站更新。"></a>步骤：本地写 Markdown -&gt; <code>git push</code> -&gt; GitHub Actions 自动构建 -&gt; 推送到 <code>gh-pages</code> 分支 -&gt; 网站更新。</h3><h4 id="1-准备工作：检查你的-GitHub-仓库设置"><a href="#1-准备工作：检查你的-GitHub-仓库设置" class="headerlink" title="1. 准备工作：检查你的 GitHub 仓库设置"></a>1. 准备工作：检查你的 GitHub 仓库设置</h4><p>由于 GitHub 的安全策略更新，你需要先开启 Action 的写权限：</p>
<ol>
<li>进入你的博客仓库 -&gt; <strong>Settings</strong>。</li>
<li>在左侧栏找到 <strong>Actions</strong> -&gt; <strong>General</strong>。</li>
<li>滚动到底部 <strong>Workflow permissions</strong>。</li>
<li>勾选 **”Read and write permissions”**。</li>
<li>点击 <strong>Save</strong>。</li>
</ol>
<h4 id="2-创建自动化脚本（Workflow）"><a href="#2-创建自动化脚本（Workflow）" class="headerlink" title="2. 创建自动化脚本（Workflow）"></a>2. 创建自动化脚本（Workflow）</h4><p>你需要告诉 GitHub 怎么帮你在云端干活。</p>
<ol>
<li>在你的本地博客根目录下，新建目录和文件：<code>.github/workflows/deploy.yml</code>。</li>
<li>将以下代码复制进去（这是一个标准的 Hexo 自动化脚本）：</li>
</ol>
<p>YAML</p>
<figure class="highlight nix"><table><tr><td class="code"><pre><span class="line"><span class="params">name:</span> Deploy Hexo Blog</span><br><span class="line"></span><br><span class="line"><span class="params">on:</span></span><br><span class="line">  <span class="params">push:</span></span><br><span class="line">    <span class="params">branches:</span></span><br><span class="line">      <span class="operator">-</span> main  <span class="comment"># 监控的分支：这里填你存放源码的分支名，可能是 main 或 master</span></span><br><span class="line"></span><br><span class="line"><span class="params">jobs:</span></span><br><span class="line">  <span class="params">build:</span></span><br><span class="line">    <span class="params">runs-on:</span> ubuntu-latest</span><br><span class="line"></span><br><span class="line">    <span class="params">steps:</span></span><br><span class="line">      <span class="comment"># 1. 把代码拉取到虚拟机</span></span><br><span class="line">      <span class="operator">-</span> <span class="params">name:</span> Checkout source</span><br><span class="line">        <span class="params">uses:</span> actions<span class="operator">/</span>checkout@v4</span><br><span class="line"></span><br><span class="line">      <span class="comment"># 2. 安装 Node.js 环境</span></span><br><span class="line">      <span class="operator">-</span> <span class="params">name:</span> Setup Node.js</span><br><span class="line">        <span class="params">uses:</span> actions<span class="operator">/</span>setup-node@v4</span><br><span class="line">        <span class="params">with:</span></span><br><span class="line">          <span class="params">node-version:</span> &#x27;<span class="number">20</span>&#x27; <span class="comment"># 推荐使用较新的 LTS 版本</span></span><br><span class="line"></span><br><span class="line">      <span class="comment"># 3. 安装 Hexo 和依赖</span></span><br><span class="line">      <span class="operator">-</span> <span class="params">name:</span> Install Dependencies</span><br><span class="line">        <span class="params">run:</span> |</span><br><span class="line">          npm install <span class="operator">-</span>g hexo-cli</span><br><span class="line">          npm install</span><br><span class="line"></span><br><span class="line">      <span class="comment"># 4. 生成静态文件 (相当于你在本地敲 hexo g)</span></span><br><span class="line">      <span class="operator">-</span> <span class="params">name:</span> Build Hexo</span><br><span class="line">        <span class="params">run:</span> hexo generate</span><br><span class="line"></span><br><span class="line">      <span class="comment"># 5. 把生成的文件推送到 gh-pages 分支</span></span><br><span class="line">      <span class="operator">-</span> <span class="params">name:</span> Deploy</span><br><span class="line">        <span class="params">uses:</span> peaceiris<span class="operator">/</span>actions-gh-pages@v3 <span class="comment"># 这是一个在大名鼎鼎的第三方 Action</span></span><br><span class="line">        <span class="params">with:</span></span><br><span class="line">          <span class="params">github_token:</span> $&#123;&#123; secrets.GITHUB_TOKEN &#125;&#125; <span class="comment"># GitHub 自动生成的令牌，无需手动设置</span></span><br><span class="line">          <span class="params">publish_dir:</span> <span class="symbol">./public</span> <span class="comment"># Hexo 生成文件的目录</span></span><br><span class="line">          <span class="params">publish_branch:</span> gh-pages <span class="comment"># 推送到哪个分支，通常是 gh-pages</span></span><br><span class="line">          <span class="params">commit_message:</span> $&#123;&#123; github.event.head_commit.message &#125;&#125;</span><br></pre></td></tr></table></figure>

<h4 id="3-提交代码，触发第一次构建"><a href="#3-提交代码，触发第一次构建" class="headerlink" title="3. 提交代码，触发第一次构建"></a>3. 提交代码，触发第一次构建</h4><ol>
<li>在本地执行 git 命令： <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">&quot;Add CI/CD workflow&quot;</span></span><br><span class="line">git push origin main</span><br></pre></td></tr></table></figure></li>
<li>打开 GitHub 仓库页面，点击顶部的 <strong>Actions</strong> 标签。</li>
<li>你应该能看到一个正在转圈的任务（Deploy Hexo Blog）。如果是绿色对勾 ✅，说明构建成功！</li>
</ol>
<h4 id="4-调整-GitHub-Pages-设置"><a href="#4-调整-GitHub-Pages-设置" class="headerlink" title="4. 调整 GitHub Pages 设置"></a>4. 调整 GitHub Pages 设置</h4><ol>
<li>进入仓库 <strong>Settings</strong> -&gt; <strong>Pages</strong>。</li>
<li>在 <strong>Build and deployment</strong> 下的 <strong>Source</strong> 选择 <strong>Deploy from a branch</strong>。</li>
<li><strong>Branch</strong> 选择 <strong><code>gh-pages</code></strong> (注意：不是 main，因为 Action 把生成的 HTML 放在了 gh-pages 里)。</li>
<li>保存。</li>
</ol>
<h3 id="第三部分：最后一步，Cloudflare-设置（至关重要）"><a href="#第三部分：最后一步，Cloudflare-设置（至关重要）" class="headerlink" title="第三部分：最后一步，Cloudflare 设置（至关重要）"></a>第三部分：最后一步，Cloudflare 设置（至关重要）</h3><p>这步做不对，网站会无限重定向或者打不开。</p>
<ol>
<li><p><strong>域名解析：</strong> 在 Cloudflare DNS 设置里，添加 CNAME 记录，指向 <code>你的用户名.github.io</code>，并<strong>开启小黄云（Proxy）</strong>。</p>
</li>
<li><p><strong>SSL 设置（这是最大的坑）：</strong></p>
<ul>
<li><p>进入 Cloudflare 后台 -&gt; <strong>SSL&#x2F;TLS</strong> -&gt; <strong>Overview</strong>。</p>
</li>
<li><p><strong>必须</strong>将加密模式设置为 <strong>Full</strong> 或 **Full (Strict)**。</p>
</li>
<li><p><em>解释：如果选 Flexible，Cloudflare 访问 GitHub Pages 走 HTTP，而 GitHub Pages 强制 HTTPS，两者会打架导致网页无限循环进不去。</em></p>
</li>
</ul>
</li>
</ol>
<h3 id="总结你的新工作流"><a href="#总结你的新工作流" class="headerlink" title="总结你的新工作流"></a>总结你的新工作流</h3><p>配置好这一切后，你以后的写博客流程就是：</p>
<ol>
<li>本地 VScode 写好 <code>xx.md</code>。</li>
<li>终端输入： <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">&quot;新文章：吃马铃薯&quot;</span></span><br><span class="line">git push</span><br></pre></td></tr></table></figure></li>
<li><strong>结束。</strong> 去喝杯水，1分钟后，GitHub Actions 会自动帮你编译，Cloudflare 会自动帮你加速，你的网站在全球（包括国内）就都能访问了。</li>
</ol>
<h3 id="问题列举"><a href="#问题列举" class="headerlink" title="问题列举"></a>问题列举</h3><h3 id="1-如何创建自动化脚本"><a href="#1-如何创建自动化脚本" class="headerlink" title="1.如何创建自动化脚本"></a>1.如何创建自动化脚本</h3><p>VS Code 有个隐藏的小技巧，可以一次性把文件夹和文件都建好。</p>
<ol>
<li><p><strong>打开项目：</strong> 用 VS Code 打开你的博客根目录（就是能看到 <code>source</code>, <code>scaffolds</code>, <code>themes</code> 这些文件夹的地方）。</p>
</li>
<li><p><strong>新建文件：</strong></p>
<ul>
<li><p>在左侧的文件资源管理器空白处，点击右键 -&gt; **“新建文件” (New File)**。</p>
</li>
<li><p>或者直接点击该区域顶部那个“带加号的文件图标”。</p>
</li>
</ul>
</li>
<li><p><strong>输入魔法路径：</strong></p>
<ul>
<li><p>在输入框里，不要只写文件名，而是直接输入完整的路径：</p>
</li>
<li><p><code>.github/workflows/deploy.yml</code></p>
</li>
<li><p><strong>按下回车</strong>。</p>
</li>
</ul>
</li>
<li><p><strong>见证奇迹：</strong> VS Code 会自动检测到斜杠 <code>/</code>，然后帮你自动新建好 <code>.github</code> 文件夹，再在里面建好 <code>workflows</code> 文件夹，最后创建好 <code>deploy.yml</code> 文件。</p>
</li>
<li><p><strong>粘贴代码：</strong> 现在把之前给你的那一长串 YAML 代码粘贴进去，保存即可。</p>
</li>
</ol>
<h3 id="2-fatal-not-a-git-repository-or-any-of-the-parent-directories-git"><a href="#2-fatal-not-a-git-repository-or-any-of-the-parent-directories-git" class="headerlink" title="2.fatal: not a git repository (or any of the parent directories): .git"></a>2.fatal: not a git repository (or any of the parent directories): .git</h3><p>当前的文件夹 <code>My-Blog</code> 还没有被 Git “初始化”或者“管理”，它只是一个普通的 Windows 文件夹。因为这个文件可能是直接点击 GitHub 网页上的 “Download ZIP” 下载的代码，或者不小心删除了隐藏的 <code>.git</code> 文件夹。</p>
<h4 id="1-初始化仓库（开户）"><a href="#1-初始化仓库（开户）" class="headerlink" title="1. 初始化仓库（开户）"></a>1. 初始化仓库（开户）</h4><p>让 Git 开始管理这个文件夹。</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line">git <span class="keyword">init</span></span><br></pre></td></tr></table></figure>

<p><em>执行后，你会看到提示 <code>Initialized empty Git repository in ...</code></em></p>
<h4 id="2-关联远程仓库"><a href="#2-关联远程仓库" class="headerlink" title="2. 关联远程仓库"></a>2. 关联远程仓库</h4><p>我们需要告诉本地 Git，它的“远程总部”在哪里。 你需要去 GitHub 复制你的仓库 HTTPS 地址（通常是 <code>https://github.com/你的用户名/你的仓库名.git</code>）。</p>
<figure class="highlight mipsasm"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 例如：git remote add origin https://github.com/magic486/magic486.github.io.git</span></span><br><span class="line">git remote <span class="keyword">add </span><span class="keyword">origin </span>&lt;你的GitHub仓库地址&gt;</span><br></pre></td></tr></table></figure>

<h4 id="3-同步远程记录"><a href="#3-同步远程记录" class="headerlink" title="3. 同步远程记录"></a>3. 同步远程记录</h4><p><strong>这一步很关键！</strong> 因为你的本地认为是“全新的”，但远程仓库里已经有东西了。我们要把远程的历史记录“拉”下来，覆盖到本地的 Git 记录中，但<strong>保留你本地的文件修改</strong>。</p>
<figure class="highlight applescript"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 先把远程的分支信息抓取下来</span></span><br><span class="line">git fetch origin</span><br><span class="line"></span><br><span class="line"><span class="comment"># 这里的 main 是你的分支名，老仓库可能是 master，你可以去 GitHub 页面看一眼</span></span><br><span class="line"><span class="comment"># 这条命令的意思是：重置 Git 记录，让它认为你就是基于远程 main 分支工作的</span></span><br><span class="line">git reset <span class="comment">--mixed origin/main</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>注意：</strong> 如果提示 <code>origin/main</code> 不存在，试着把 <code>main</code> 换成 <code>master</code>。</p>
</blockquote>
<h4 id="4-再次提交"><a href="#4-再次提交" class="headerlink" title="4. 再次提交"></a>4. 再次提交</h4><p>现在，你的文件夹已经变成了一个正常的 Git 仓库，且包含了你刚才写的 <code>.yml</code> 文件。再次执行你之前的命令：</p>
<figure class="highlight armasm"><table><tr><td class="code"><pre><span class="line"><span class="symbol">git</span> <span class="keyword">add</span> .</span><br><span class="line"><span class="symbol">git</span> commit -m <span class="string">&quot;Add CI/CD workflow&quot;</span></span><br><span class="line"><span class="symbol">git</span> <span class="keyword">push</span> -u origin main</span><br></pre></td></tr></table></figure>

<h3 id="3-warning刷屏：warning-in-the-working-copy-of-‘node-modules-core-js-modules-es6-object-is-sealed-js’-LF-will-be-replaced-by-CRLF-the-next-time-Git-touches-it"><a href="#3-warning刷屏：warning-in-the-working-copy-of-‘node-modules-core-js-modules-es6-object-is-sealed-js’-LF-will-be-replaced-by-CRLF-the-next-time-Git-touches-it" class="headerlink" title="3.warning刷屏：warning: in the working copy of ‘node_modules&#x2F;core-js&#x2F;modules&#x2F;es6.object.is-sealed.js’, LF will be replaced by CRLF the next time Git touches it"></a>3.warning刷屏：warning: in the working copy of ‘node_modules&#x2F;core-js&#x2F;modules&#x2F;es6.object.is-sealed.js’, LF will be replaced by CRLF the next time Git touches it</h3><p>❌ 你正在尝试把 <code>node_modules</code> 文件夹上传到 GitHub！</p>
<h3 id="为什么这是一个错误？"><a href="#为什么这是一个错误？" class="headerlink" title="为什么这是一个错误？"></a>为什么这是一个错误？</h3><ol>
<li><strong>体积巨大：</strong> <code>node_modules</code> 里包含了成千上万个依赖包的文件（就像你看到的，刷了几千行警告），这会让你的仓库变得巨大无比，上传速度极慢。</li>
<li><strong>没必要：</strong> 只要有 <code>package.json</code> 文件，任何人（包括服务器）都可以通过运行 <code>npm install</code> 自动下载这些依赖。<strong>不需要</strong>把它们存到 Git 里。</li>
<li><strong>跨平台问题：</strong> 这些依赖包里有很多针对特定系统（Windows&#x2F;Mac&#x2F;Linux）的文件。你把 Windows 下的依赖传上去，服务器（通常是 Linux）可能根本跑不起来。</li>
</ol>
<p>我们要做的就是告诉 Git：<strong>“忽略 <code>node_modules</code> 这个文件夹，不要管它，也不要上传它。”</strong></p>
<h4 id="第一步：创建或修改-gitignore-文件"><a href="#第一步：创建或修改-gitignore-文件" class="headerlink" title="第一步：创建或修改 .gitignore 文件"></a>第一步：创建或修改 <code>.gitignore</code> 文件</h4><ol>
<li><p>看看你的博客根目录下，有没有一个叫 <code>.gitignore</code> 的文件？</p>
<ul>
<li><p><strong>如果有：</strong> 用 VS Code 打开它。</p>
</li>
<li><p><strong>如果没有：</strong> 在根目录下新建一个文件，名字就叫 <code>.gitignore</code>（注意前面有个点）。</p>
</li>
</ul>
</li>
<li><p>在 <code>.gitignore</code> 文件里，<strong>单独一行</strong>写入以下内容：<br> Plaintext</p>
 <figure class="highlight"><table><tr><td class="code"><pre><span class="line">node_modules/</span><br></pre></td></tr></table></figure>
<p> <em>(通常 Hexo 默认的 .gitignore 应该包含 public&#x2F; 和 db.json 等，你把 node_modules&#x2F; 加进去就行)</em><br> <strong>保存文件。</strong></p>
</li>
</ol>
<h4 id="第二步：清理-Git-缓存"><a href="#第二步：清理-Git-缓存" class="headerlink" title="第二步：清理 Git 缓存"></a>第二步：清理 Git 缓存</h4><p>因为你之前可能已经执行过 <code>git add .</code>，Git 已经把 <code>node_modules</code> 里的文件“记在小本本上”了。光改 <code>.gitignore</code> 不足以让它“遗忘”。</p>
<p>你需要执行以下命令来<strong>撤销对这些文件的追踪</strong>：</p>
<ol>
<li><p>在终端里执行（这会把所有文件从暂存区移除，但<strong>不会删除</strong>你本地的实际文件）：</p>
 <figure class="highlight css"><table><tr><td class="code"><pre><span class="line">git rm -<span class="attribute">r</span> <span class="attr">--cached</span> .</span><br></pre></td></tr></table></figure>
</li>
<li><p>重新添加文件（这次 Git 会看到 <code>.gitignore</code>，就会自动忽略 <code>node_modules</code> 了）：</p>
 <figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">add</span> .</span><br></pre></td></tr></table></figure>
<p> <em>此时你应该不会再看到那几千行的 <code>node_modules</code> 警告了。</em></p>
</li>
</ol>
<h3 id="4-error-src-refspec-main-does-not-match-any"><a href="#4-error-src-refspec-main-does-not-match-any" class="headerlink" title="4.error: src refspec main does not match any"></a>4.error: src refspec main does not match any</h3><p>你遇到了 <strong>“名字对不上”</strong> 的问题：</p>
<ol>
<li><p><strong>你的现状：</strong> 你的终端第一行显示 <code>The current branch master</code>。这说明你本地的“存折”名字叫 **<code>master</code>**（这是 Git 以前的默认老名字）。</p>
</li>
<li><p><strong>你的操作：</strong> 你输入了 <code>git push origin main</code>。你在告诉 Git：“把那个叫 <strong><code>main</code></strong> 的存折存到银行去”。</p>
</li>
<li><p><strong>结果：</strong> Git 懵了，它翻遍了你的口袋，发现你只有 <code>master</code>，没有 <code>main</code>，于是报错 <code>src refspec main does not match any</code>（意思是：我找不到你说的那个叫 main 的东西）。</p>
</li>
</ol>
<p>而且，还有一个<strong>极其重要</strong>的隐患：我之前给你的自动化脚本 (<code>deploy.yml</code>) 里写的是 <code>on: push: branches: - main</code>。如果你强行推送到 <code>master</code>，<strong>你的自动化脚本根本不会启动！</strong></p>
<p>为了配合 GitHub 的新标准，也为了配合你已经写好的自动化脚本，我们最简单的办法是**把本地的 <code>master</code> 改名为 <code>main</code>**。</p>
<p>请依次执行下面两条命令：</p>
<h4 id="第一步：给本地分支改名"><a href="#第一步：给本地分支改名" class="headerlink" title="第一步：给本地分支改名"></a>第一步：给本地分支改名</h4><p>PowerShell</p>
<figure class="highlight crmsh"><table><tr><td class="code"><pre><span class="line">git branch -m <span class="keyword">master</span> <span class="title">main</span></span><br></pre></td></tr></table></figure>

<p><em>这条命令没有输出是正常的，它默默地把名字改好了。</em></p>
<h4 id="第二步：再次推送"><a href="#第二步：再次推送" class="headerlink" title="第二步：再次推送"></a>第二步：再次推送</h4><p>PowerShell</p>
<figure class="highlight maxima"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">push</span> -u <span class="built_in">origin</span> main</span><br></pre></td></tr></table></figure>

<h3 id="5-404页面"><a href="#5-404页面" class="headerlink" title="5.404页面"></a>5.404页面</h3><p>原因通常有两个：<strong>GitHub Pages 的设置被重置了</strong>，或者 <strong>CNAME 文件被机器人误删了</strong>。</p>
<h3 id="第一步：检查-GitHub-Pages-的“分支”设置（最可能的去处）"><a href="#第一步：检查-GitHub-Pages-的“分支”设置（最可能的去处）" class="headerlink" title="第一步：检查 GitHub Pages 的“分支”设置（最可能的去处）"></a>第一步：检查 GitHub Pages 的“分支”设置（最可能的去处）</h3><p>因为你是第一次用 Action 自动推送，GitHub 可能还没反应过来要切换分支。</p>
<ol>
<li><p>打开你博客的 GitHub 仓库页面。</p>
</li>
<li><p>点击顶部的 <strong>Settings</strong> (设置)。</p>
</li>
<li><p>在左侧菜单点击 <strong>Pages</strong>。</p>
</li>
<li><p>看 <strong>Build and deployment</strong> 这一栏：</p>
<ul>
<li><p><strong>Source:</strong> 确保选的是 <strong>Deploy from a branch</strong>。</p>
</li>
<li><p><strong>Branch:</strong> 这里是关键！必须选择 <strong><code>gh-pages</code></strong> 分支（<strong>不是</strong> <code>main</code> 或 <code>master</code>）。</p>
</li>
<li><p><em>解释：你的 <code>main</code> 分支放的是源码（Markdown），而 Action 自动生成的 HTML 网页是放在 <code>gh-pages</code> 分支里的。GitHub 得去 <code>gh-pages</code> 拿网页才能显示。</em></p>
</li>
</ul>
</li>
<li><p>点击 <strong>Save</strong>。</p>
</li>
</ol>
<h3 id="第二步：检查“自定义域名”是否被清空（这是个坑）"><a href="#第二步：检查“自定义域名”是否被清空（这是个坑）" class="headerlink" title="第二步：检查“自定义域名”是否被清空（这是个坑）"></a>第二步：检查“自定义域名”是否被清空（这是个坑）</h3><p>自动化部署（Action）有个“坏毛病”：它每次重新生成网页，都会把 <code>gh-pages</code> 分支清空重写。如果你本地的源码里没有保存域名配置，Action 就会把线上的域名配置给<strong>抹掉</strong>。</p>
<ol>
<li><p>还在刚才的 <strong>Pages</strong> 设置页面，往下看 <strong>Custom domain</strong> 一栏。</p>
</li>
<li><p><strong>检查这里是不是变空了？</strong></p>
<ul>
<li><p><strong>如果是空的：</strong> 请重新填入 <code>www.magic486.top</code>，然后点击 <strong>Save</strong>。等待几分钟，网站就能访问了。</p>
</li>
<li><p><strong>如果没空：</strong> 尝试把里面的内容清空，保存，然后再填进去，保存（相当于重启一下）。</p>
</li>
</ul>
</li>
</ol>
<hr>
<h3 id="🔥-终极补丁：防止下次更新又挂掉（必做！）"><a href="#🔥-终极补丁：防止下次更新又挂掉（必做！）" class="headerlink" title="🔥 终极补丁：防止下次更新又挂掉（必做！）"></a>🔥 终极补丁：防止下次更新又挂掉（必做！）</h3><p>如果你刚才发现 <strong>Custom domain</strong> 确实被清空了，说明你<strong>本地的源码里缺少了一个关键文件</strong>。如果你不补上这个文件，下次你写新文章一推送，网站又会 404。</p>
<p>请在你的 VS Code 里做这件事：</p>
<ol>
<li><p>找到你的博客根目录下的 <strong><code>source</code></strong> 文件夹。</p>
</li>
<li><p>在 <code>source</code> 文件夹里新建一个文件，文件名叫 <strong><code>CNAME</code><strong>（注意：</strong>全大写，没有任何后缀名</strong>，不是 <code>CNAME.txt</code>）。</p>
</li>
<li><p>用记事本打开它，在里面只写一行字：</p>
<p> Plaintext</p>
 <figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line">www<span class="selector-class">.magic486</span>.<span class="attribute">top</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>保存。</p>
</li>
<li><p>执行 Git 三连，把这个“护身符”推送到云端：</p>
<p> PowerShell</p>
 <figure class="highlight avrasm"><table><tr><td class="code"><pre><span class="line">git <span class="keyword">add</span> .</span><br><span class="line">git commit -m <span class="string">&quot;Add CNAME file&quot;</span></span><br><span class="line">git <span class="keyword">push</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="6-网页白屏"><a href="#6-网页白屏" class="headerlink" title="6.网页白屏"></a>6.网页白屏</h3><p>两个原因</p>
<p>一：</p>
<h4 id="第一步：删除“内鬼”-git-文件夹"><a href="#第一步：删除“内鬼”-git-文件夹" class="headerlink" title="第一步：删除“内鬼” .git 文件夹"></a>第一步：删除“内鬼” <code>.git</code> 文件夹</h4><ol>
<li><p>在你的电脑上打开博客文件夹，进入 <code>themes</code> -&gt; <code>butterfly</code> 文件夹。</p>
</li>
<li><p><strong>开启“显示隐藏文件”：</strong></p>
<ul>
<li><p>如果你是 Windows 11：点击顶部菜单栏的 <code>查看</code> -&gt; <code>显示</code> -&gt; 勾选 <code>隐藏的项目</code>。</p>
</li>
<li><p>如果你是 Windows 10：点击顶部菜单栏的 <code>查看</code> -&gt; 勾选 <code>隐藏的项目</code>。</p>
</li>
</ul>
</li>
<li><p>你会看到一个半透明的 <strong><code>.git</code></strong> 文件夹（注意：只删除 <code>themes/butterfly</code> 里面的这一个，<strong>千万不要</strong>删除博客根目录下的那个）。</p>
</li>
<li><p><strong>选中这个 <code>.git</code> 文件夹，直接删除（Delete）。</strong></p>
</li>
</ol>
<h4 id="第二步：告诉-Git-重新识别这些文件"><a href="#第二步：告诉-Git-重新识别这些文件" class="headerlink" title="第二步：告诉 Git 重新识别这些文件"></a>第二步：告诉 Git 重新识别这些文件</h4><p>回到你的 VS Code 终端（PowerShell），依次执行下面 4 行命令：</p>
<ol>
<li><p><strong>清除错误的记录（解除之前的子仓库绑定）：</strong></p>
<p> PowerShell</p>
 <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">rm</span> -r --cached themes/butterfly</span><br></pre></td></tr></table></figure>
<p> <em>（如果这条报错说 pathspec 不匹配，没关系，直接做下一步。）</em></p>
</li>
<li><p><strong>强制添加所有文件（这一步很关键）：</strong></p>
<p> PowerShell</p>
 <figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line">git <span class="keyword">add</span><span class="language-bash"> themes/butterfly/*</span></span><br></pre></td></tr></table></figure>
<p> <em>（注意：这行命令最后有个星号 <code>*</code>。如果提示 warnings 关于 LF&#x2F;CRLF，直接忽略。）</em></p>
</li>
<li><p><strong>再次把所有变动加进去：</strong></p>
<p> PowerShell</p>
 <figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">add</span> .</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>提交并推送：</strong></p>
<p> PowerShell</p>
 <figure class="highlight arcade"><table><tr><td class="code"><pre><span class="line">git commit -m <span class="string">&quot;Fix: Upload theme files&quot;</span></span><br><span class="line">git <span class="built_in">push</span></span><br></pre></td></tr></table></figure></li>
</ol>
<p>二：</p>
<h4 id="第一步：修改-Hexo-配置文件（90-是因为这个）"><a href="#第一步：修改-Hexo-配置文件（90-是因为这个）" class="headerlink" title="第一步：修改 Hexo 配置文件（90% 是因为这个）"></a>第一步：修改 Hexo 配置文件（90% 是因为这个）</h4><p>Hexo 生成网页时，会根据配置文件里的 <code>url</code> 来生成资源链接。如果这里还是旧的 GitHub 地址，或者写的是 <code>http</code> 而不是 <code>https</code>，浏览器就会拦截资源，导致白屏。</p>
<ol>
<li><p>在 VS Code 中打开你的博客根目录下的 <strong><code>_config.yml</code></strong> 文件。</p>
</li>
<li><p>找到 <strong><code># URL</code></strong> 这一部分。</p>
</li>
<li><p>修改以下两行（<strong>务必完全一致</strong>）：</p>
<p> YAML</p>
 <figure class="highlight nix"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Replace the following with your url</span></span><br><span class="line"><span class="params">url:</span> https:<span class="symbol">//www.magic486.top</span>  <span class="comment"># 注意：必须是 https，且要是你的新域名</span></span><br><span class="line"><span class="params">root:</span> <span class="operator">/</span></span><br></pre></td></tr></table></figure>
<p> <em>(以前你可能设置过子目录，现在有了独立域名，<code>root</code> 必须是 <code>/</code>)</em></p>
</li>
<li><p>保存文件。</p>
</li>
</ol>
<h4 id="第二步：推送更新"><a href="#第二步：推送更新" class="headerlink" title="第二步：推送更新"></a>第二步：推送更新</h4><p>修改完配置后，我们需要重新让 GitHub Actions 构建一次。</p>
<ol>
<li><p>在终端执行：</p>
<p> PowerShell</p>
 <figure class="highlight avrasm"><table><tr><td class="code"><pre><span class="line">git <span class="keyword">add</span> .</span><br><span class="line">git commit -m <span class="string">&quot;Fix: Update site URL in config&quot;</span></span><br><span class="line">git <span class="keyword">push</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>等待 1-2 分钟，让 Action 跑完。</p>
</li>
</ol>
<h4 id="第三步：清理-Cloudflare-缓存（这一步至关重要！）"><a href="#第三步：清理-Cloudflare-缓存（这一步至关重要！）" class="headerlink" title="第三步：清理 Cloudflare 缓存（这一步至关重要！）"></a>第三步：清理 Cloudflare 缓存（这一步至关重要！）</h4><p>Cloudflare 会缓存你的网页。如果不清理，就算你修好了，它可能还是给你展示之前那个坏掉的“白屏版”。</p>
<ol>
<li><p>登录 <a target="_blank" rel="noopener" href="https://dash.cloudflare.com/">Cloudflare 后台</a>。</p>
</li>
<li><p>点击你的域名 <code>magic486.top</code>。</p>
</li>
<li><p>在左侧菜单点击 <strong>“缓存 (Caching)”</strong> -&gt; <strong>“配置 (Configuration)”</strong>。</p>
</li>
<li><p>点击蓝色的 <strong>“清除所有内容 (Purge Everything)”</strong> 按钮。</p>
</li>
<li><p>等待 30 秒。</p>
</li>
</ol>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://www.magic486.top">叶落</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://www.magic486.top/2026/01/20/%E5%8D%9A%E5%AE%A2%E8%B4%AD%E4%B9%B0%E5%9F%9F%E5%90%8D%E5%92%8CCDN%E5%8A%A0%E9%80%9F/">https://www.magic486.top/2026/01/20/%E5%8D%9A%E5%AE%A2%E8%B4%AD%E4%B9%B0%E5%9F%9F%E5%90%8D%E5%92%8CCDN%E5%8A%A0%E9%80%9F/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://www.magic486.top" target="_blank">我吃马铃薯</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%8D%9A%E5%AE%A2%E6%9E%84%E5%BB%BA/">博客构建</a></div><div class="post-share"><div class="social-share" data-image="/image/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20250311204951.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related full-width" href="/2026/01/20/forth-blog/" title="动态规划（dp）"><img class="cover" src="/image/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20250227225819.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">动态规划（dp）</div></div><div class="info-2"><div class="info-item-1">动态规划核心原理重叠子问题在递归分解问题时，相同子问题会被多次重复计算。例如，斐波那契数列中计算 F(5)需要多次计算 F(3)，动态规划通过缓存子问题解（如数组或哈希表）避免重复计算 最优子结构问题的最优解可以由其子问题的最优解组合而成。例如，最短路径问题中，从 A 到 B 的最短路径必然包含中间点 C 的最短路径 状态转移方程定义状态之间的关系式，明确如何从子问题推导出当前问题的解。例如，0-1 背包问题的状态转移方程为： dp[i][j] = max(dp[i-1][j], dp[i-1][j-w[i]] + v[i])  实现步骤1.定义状态 2.初始化边界条件 3.推导状态转移方程 4.计算顺序与填表 实现方式1.自底向上迭代（推荐）​通过循环逐步填充状态表，适合线性问题。例如，计算斐波那契数列： int fib(int n) &#123;    if (n &lt;= 1) return n;    int dp[n+1];    dp[0] = 0, dp[1] = 1;    for (int i = 2; i &lt;= n; i++) &#123;     ...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2026/01/20/hello-world/" title="博客更新日志"><img class="cover" src="/image/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20250410145115.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2026-01-20</div><div class="info-item-2">博客更新日志</div></div><div class="info-2"><div class="info-item-1">2.24博客部署 用hexo和butterfly搭建的个人博客，用于记录知识与学习经验，还在持续更新中 2.26鼓搞了音乐功能 3.3鼓搞了代码块高亮功能 3.4调整主题样式，添加友链 3.5增添评论 2026.01.20博客购买域名和 CDN 加速  网站构建和部署这一项 CSDN 等各个平台上都有详细的教程，在此便不再讲述，因此在此写出应用 butterfly 主题后的美化和常见问题 1.主题页面的美化在这里插入主题图片 backgound://如果为 backgound_img: 则直接将其改为 backgound:  将这些全部设为 transparent，意为透明 footer_img: transparentdefault_top_img: transparentindex_img: transparent  这时会有黑色半透遮罩,在这里调整即可 mask:  header: false  footer: true  在文章的 md 文档里设置 front-matter 中的 top_img top_img: transparent  否则文章顶部会显示 cover...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/image/assetsavatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">叶落</div><div class="author-info-description">记录我的学习生涯</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">12</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">3</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Magic486/magic486.github.io"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://space.bilibili.com/1307872137/favlist?fid=2413649937&amp;ftype=create" target="_blank" title="b站"><i class="fab fa-bilibili" style="color: #4a7dbe;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%80-Cloudflare-%E7%9A%84%E5%85%8D%E8%B4%B9-CDN%E5%8A%A0%E9%80%9F%E6%9C%8D%E5%8A%A1"><span class="toc-number">1.</span> <span class="toc-text">一.Cloudflare 的免费 CDN加速服务</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E9%98%BF%E9%87%8C%E4%BA%91%E8%B4%AD%E4%B9%B0-top%E5%9F%9F%E5%90%8D"><span class="toc-number">1.1.</span> <span class="toc-text">1.阿里云购买.top域名</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%B0%86%E2%80%9C%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90%E6%9D%83%E2%80%9D%E4%BA%A4%E7%BB%99-Cloudflare"><span class="toc-number">1.2.</span> <span class="toc-text">2.将“域名解析权”交给 Cloudflare</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%9C%A8-Cloudflare-%E4%B8%AD%E6%B7%BB%E5%8A%A0-CNAME-%E8%AE%B0%E5%BD%95%EF%BC%88%E5%B9%B6%E7%82%B9%E4%BA%AE%E5%B0%8F%E9%BB%84%E4%BA%91%EF%BC%89"><span class="toc-number">1.3.</span> <span class="toc-text">3. 在 Cloudflare 中添加 CNAME 记录（并点亮小黄云）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E8%B0%83%E6%95%B4-Cloudflare-%E7%9A%84-SSL-%E5%AE%89%E5%85%A8%E8%AE%BE%E7%BD%AE"><span class="toc-number">1.4.</span> <span class="toc-text">4. 调整 Cloudflare 的 SSL 安全设置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E5%9C%A8-GitHub-%E4%B8%AD%E8%AE%A4%E9%A2%86%E4%BD%A0%E7%9A%84%E6%96%B0%E5%9F%9F%E5%90%8D"><span class="toc-number">1.5.</span> <span class="toc-text">5.在 GitHub 中认领你的新域名</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%8C-CI-CD-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%83%A8%E7%BD%B2"><span class="toc-number">2.</span> <span class="toc-text">二.CI&#x2F;CD 自动化部署</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AD%A5%E9%AA%A4%EF%BC%9A%E6%9C%AC%E5%9C%B0%E5%86%99-Markdown-git-push-GitHub-Actions-%E8%87%AA%E5%8A%A8%E6%9E%84%E5%BB%BA-%E6%8E%A8%E9%80%81%E5%88%B0-gh-pages-%E5%88%86%E6%94%AF-%E7%BD%91%E7%AB%99%E6%9B%B4%E6%96%B0%E3%80%82"><span class="toc-number">2.0.1.</span> <span class="toc-text">步骤：本地写 Markdown -&gt; git push -&gt; GitHub Actions 自动构建 -&gt; 推送到 gh-pages 分支 -&gt; 网站更新。</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C%EF%BC%9A%E6%A3%80%E6%9F%A5%E4%BD%A0%E7%9A%84-GitHub-%E4%BB%93%E5%BA%93%E8%AE%BE%E7%BD%AE"><span class="toc-number">2.0.1.1.</span> <span class="toc-text">1. 准备工作：检查你的 GitHub 仓库设置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%88%9B%E5%BB%BA%E8%87%AA%E5%8A%A8%E5%8C%96%E8%84%9A%E6%9C%AC%EF%BC%88Workflow%EF%BC%89"><span class="toc-number">2.0.1.2.</span> <span class="toc-text">2. 创建自动化脚本（Workflow）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E6%8F%90%E4%BA%A4%E4%BB%A3%E7%A0%81%EF%BC%8C%E8%A7%A6%E5%8F%91%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%9E%84%E5%BB%BA"><span class="toc-number">2.0.1.3.</span> <span class="toc-text">3. 提交代码，触发第一次构建</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E8%B0%83%E6%95%B4-GitHub-Pages-%E8%AE%BE%E7%BD%AE"><span class="toc-number">2.0.1.4.</span> <span class="toc-text">4. 调整 GitHub Pages 设置</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E9%83%A8%E5%88%86%EF%BC%9A%E6%9C%80%E5%90%8E%E4%B8%80%E6%AD%A5%EF%BC%8CCloudflare-%E8%AE%BE%E7%BD%AE%EF%BC%88%E8%87%B3%E5%85%B3%E9%87%8D%E8%A6%81%EF%BC%89"><span class="toc-number">2.0.2.</span> <span class="toc-text">第三部分：最后一步，Cloudflare 设置（至关重要）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93%E4%BD%A0%E7%9A%84%E6%96%B0%E5%B7%A5%E4%BD%9C%E6%B5%81"><span class="toc-number">2.0.3.</span> <span class="toc-text">总结你的新工作流</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%97%AE%E9%A2%98%E5%88%97%E4%B8%BE"><span class="toc-number">2.0.4.</span> <span class="toc-text">问题列举</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%A6%82%E4%BD%95%E5%88%9B%E5%BB%BA%E8%87%AA%E5%8A%A8%E5%8C%96%E8%84%9A%E6%9C%AC"><span class="toc-number">2.0.5.</span> <span class="toc-text">1.如何创建自动化脚本</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-fatal-not-a-git-repository-or-any-of-the-parent-directories-git"><span class="toc-number">2.0.6.</span> <span class="toc-text">2.fatal: not a git repository (or any of the parent directories): .git</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%88%9D%E5%A7%8B%E5%8C%96%E4%BB%93%E5%BA%93%EF%BC%88%E5%BC%80%E6%88%B7%EF%BC%89"><span class="toc-number">2.0.6.1.</span> <span class="toc-text">1. 初始化仓库（开户）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%85%B3%E8%81%94%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93"><span class="toc-number">2.0.6.2.</span> <span class="toc-text">2. 关联远程仓库</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E5%90%8C%E6%AD%A5%E8%BF%9C%E7%A8%8B%E8%AE%B0%E5%BD%95"><span class="toc-number">2.0.6.3.</span> <span class="toc-text">3. 同步远程记录</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E5%86%8D%E6%AC%A1%E6%8F%90%E4%BA%A4"><span class="toc-number">2.0.6.4.</span> <span class="toc-text">4. 再次提交</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-warning%E5%88%B7%E5%B1%8F%EF%BC%9Awarning-in-the-working-copy-of-%E2%80%98node-modules-core-js-modules-es6-object-is-sealed-js%E2%80%99-LF-will-be-replaced-by-CRLF-the-next-time-Git-touches-it"><span class="toc-number">2.0.7.</span> <span class="toc-text">3.warning刷屏：warning: in the working copy of ‘node_modules&#x2F;core-js&#x2F;modules&#x2F;es6.object.is-sealed.js’, LF will be replaced by CRLF the next time Git touches it</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E8%BF%99%E6%98%AF%E4%B8%80%E4%B8%AA%E9%94%99%E8%AF%AF%EF%BC%9F"><span class="toc-number">2.0.8.</span> <span class="toc-text">为什么这是一个错误？</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E6%AD%A5%EF%BC%9A%E5%88%9B%E5%BB%BA%E6%88%96%E4%BF%AE%E6%94%B9-gitignore-%E6%96%87%E4%BB%B6"><span class="toc-number">2.0.8.1.</span> <span class="toc-text">第一步：创建或修改 .gitignore 文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E6%AD%A5%EF%BC%9A%E6%B8%85%E7%90%86-Git-%E7%BC%93%E5%AD%98"><span class="toc-number">2.0.8.2.</span> <span class="toc-text">第二步：清理 Git 缓存</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-error-src-refspec-main-does-not-match-any"><span class="toc-number">2.0.9.</span> <span class="toc-text">4.error: src refspec main does not match any</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E6%AD%A5%EF%BC%9A%E7%BB%99%E6%9C%AC%E5%9C%B0%E5%88%86%E6%94%AF%E6%94%B9%E5%90%8D"><span class="toc-number">2.0.9.1.</span> <span class="toc-text">第一步：给本地分支改名</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E6%AD%A5%EF%BC%9A%E5%86%8D%E6%AC%A1%E6%8E%A8%E9%80%81"><span class="toc-number">2.0.9.2.</span> <span class="toc-text">第二步：再次推送</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-404%E9%A1%B5%E9%9D%A2"><span class="toc-number">2.0.10.</span> <span class="toc-text">5.404页面</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E6%AD%A5%EF%BC%9A%E6%A3%80%E6%9F%A5-GitHub-Pages-%E7%9A%84%E2%80%9C%E5%88%86%E6%94%AF%E2%80%9D%E8%AE%BE%E7%BD%AE%EF%BC%88%E6%9C%80%E5%8F%AF%E8%83%BD%E7%9A%84%E5%8E%BB%E5%A4%84%EF%BC%89"><span class="toc-number">2.0.11.</span> <span class="toc-text">第一步：检查 GitHub Pages 的“分支”设置（最可能的去处）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E6%AD%A5%EF%BC%9A%E6%A3%80%E6%9F%A5%E2%80%9C%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9F%9F%E5%90%8D%E2%80%9D%E6%98%AF%E5%90%A6%E8%A2%AB%E6%B8%85%E7%A9%BA%EF%BC%88%E8%BF%99%E6%98%AF%E4%B8%AA%E5%9D%91%EF%BC%89"><span class="toc-number">2.0.12.</span> <span class="toc-text">第二步：检查“自定义域名”是否被清空（这是个坑）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%94%A5-%E7%BB%88%E6%9E%81%E8%A1%A5%E4%B8%81%EF%BC%9A%E9%98%B2%E6%AD%A2%E4%B8%8B%E6%AC%A1%E6%9B%B4%E6%96%B0%E5%8F%88%E6%8C%82%E6%8E%89%EF%BC%88%E5%BF%85%E5%81%9A%EF%BC%81%EF%BC%89"><span class="toc-number">2.0.13.</span> <span class="toc-text">🔥 终极补丁：防止下次更新又挂掉（必做！）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E7%BD%91%E9%A1%B5%E7%99%BD%E5%B1%8F"><span class="toc-number">2.0.14.</span> <span class="toc-text">6.网页白屏</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E6%AD%A5%EF%BC%9A%E5%88%A0%E9%99%A4%E2%80%9C%E5%86%85%E9%AC%BC%E2%80%9D-git-%E6%96%87%E4%BB%B6%E5%A4%B9"><span class="toc-number">2.0.14.1.</span> <span class="toc-text">第一步：删除“内鬼” .git 文件夹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E6%AD%A5%EF%BC%9A%E5%91%8A%E8%AF%89-Git-%E9%87%8D%E6%96%B0%E8%AF%86%E5%88%AB%E8%BF%99%E4%BA%9B%E6%96%87%E4%BB%B6"><span class="toc-number">2.0.14.2.</span> <span class="toc-text">第二步：告诉 Git 重新识别这些文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E6%AD%A5%EF%BC%9A%E4%BF%AE%E6%94%B9-Hexo-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%EF%BC%8890-%E6%98%AF%E5%9B%A0%E4%B8%BA%E8%BF%99%E4%B8%AA%EF%BC%89"><span class="toc-number">2.0.14.3.</span> <span class="toc-text">第一步：修改 Hexo 配置文件（90% 是因为这个）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E6%AD%A5%EF%BC%9A%E6%8E%A8%E9%80%81%E6%9B%B4%E6%96%B0"><span class="toc-number">2.0.14.4.</span> <span class="toc-text">第二步：推送更新</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E6%AD%A5%EF%BC%9A%E6%B8%85%E7%90%86-Cloudflare-%E7%BC%93%E5%AD%98%EF%BC%88%E8%BF%99%E4%B8%80%E6%AD%A5%E8%87%B3%E5%85%B3%E9%87%8D%E8%A6%81%EF%BC%81%EF%BC%89"><span class="toc-number">2.0.14.5.</span> <span class="toc-text">第三步：清理 Cloudflare 缓存（这一步至关重要！）</span></a></li></ol></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2026/01/20/first-blog/" title="初试C++ 1.0"><img src="/image/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20250227225830.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="初试C++ 1.0"/></a><div class="content"><a class="title" href="/2026/01/20/first-blog/" title="初试C++ 1.0">初试C++ 1.0</a><time datetime="2026-01-20T14:10:34.599Z" title="发表于 2026-01-20 22:10:34">2026-01-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2026/01/20/fith-blog/" title="数据抽象和类II"><img src="/image/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20250410145107.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="数据抽象和类II"/></a><div class="content"><a class="title" href="/2026/01/20/fith-blog/" title="数据抽象和类II">数据抽象和类II</a><time datetime="2026-01-20T14:10:34.599Z" title="发表于 2026-01-20 22:10:34">2026-01-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2026/01/20/eigth-blog/" title="排序"><img src="/image/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20250227225819.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="排序"/></a><div class="content"><a class="title" href="/2026/01/20/eigth-blog/" title="排序">排序</a><time datetime="2026-01-20T14:10:34.599Z" title="发表于 2026-01-20 22:10:34">2026-01-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2026/01/20/hello-world/" title="博客更新日志"><img src="/image/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20250410145115.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="博客更新日志"/></a><div class="content"><a class="title" href="/2026/01/20/hello-world/" title="博客更新日志">博客更新日志</a><time datetime="2026-01-20T14:10:34.599Z" title="发表于 2026-01-20 22:10:34">2026-01-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2026/01/20/C++1/" title="异常处理"><img src="/image/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20250227225830.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="异常处理"/></a><div class="content"><a class="title" href="/2026/01/20/C++1/" title="异常处理">异常处理</a><time datetime="2026-01-20T14:10:34.599Z" title="发表于 2026-01-20 22:10:34">2026-01-20</time></div></div></div></div></div></div></main><footer id="footer" style="background: transparent;"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2026 By 叶落</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 7.3.0</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.3.3</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"><script>(() => {
  const loadMathjax = () => {
    if (!window.MathJax) {
      window.MathJax = {
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']],
          tags: 'none',
        },
        chtml: {
          scale: 1.1
        },
        options: {
          enableMenu: true,
          renderActions: {
            findScript: [10, doc => {
              for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
                const display = !!node.type.match(/; *mode=display/)
                const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
                const text = document.createTextNode('')
                node.parentNode.replaceChild(text, node)
                math.start = {node: text, delim: '', n: 0}
                math.end = {node: text, delim: '', n: 0}
                doc.math.push(math)
              }
            }, '']
          }
        }
      }

      const script = document.createElement('script')
      script.src = 'https://cdn.jsdelivr.net/npm/mathjax/es5/tex-mml-chtml.min.js'
      script.id = 'MathJax-script'
      script.async = true
      document.head.appendChild(script)
    } else {
      MathJax.startup.document.state(0)
      MathJax.texReset()
      MathJax.typesetPromise()
    }
  }

  btf.addGlobalFn('encrypt', loadMathjax, 'mathjax')
  window.pjax ? loadMathjax() : window.addEventListener('load', loadMathjax)
})()</script></div><div class="aplayer no-destroy" data-id="8502119137" data-server="netease" data-type="playlist" data-fixed="true"> </div><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-show-text.min.js" data-mobile="ture" data-text="观天下之大" data-fontsize="15px" data-random="false" async="async"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script>(() => {
  const destroyAplayer = () => {
    if (window.aplayers) {
      for (let i = 0; i < window.aplayers.length; i++) {
        if (!window.aplayers[i].options.fixed) {
          window.aplayers[i].destroy()
        }
      }
    }
  }

  const runMetingJS = () => {
    typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()
  }

  btf.addGlobalFn('pjaxSend', destroyAplayer, 'destroyAplayer')
  btf.addGlobalFn('pjaxComplete', loadMeting, 'runMetingJS')
})()</script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>(() => {
  const pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

  window.pjax = new Pjax({
    elements: 'a:not([target="_blank"])',
    selectors: pjaxSelectors,
    cacheBust: false,
    analytics: false,
    scrollRestoration: false
  })

  const triggerPjaxFn = (val) => {
    if (!val) return
    Object.values(val).forEach(fn => fn())
  }

  document.addEventListener('pjax:send', () => {
    // removeEventListener
    btf.removeGlobalFnEvent('pjaxSendOnce')
    btf.removeGlobalFnEvent('themeChange')

    // reset readmode
    const $bodyClassList = document.body.classList
    if ($bodyClassList.contains('read-mode')) $bodyClassList.remove('read-mode')

    triggerPjaxFn(window.globalFn.pjaxSend)
  })

  document.addEventListener('pjax:complete', () => {
    btf.removeGlobalFnEvent('pjaxCompleteOnce')
    document.querySelectorAll('script[data-pjax]').forEach(item => {
      const newScript = document.createElement('script')
      const content = item.text || item.textContent || item.innerHTML || ""
      Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
      newScript.appendChild(document.createTextNode(content))
      item.parentNode.replaceChild(newScript, item)
    })

    triggerPjaxFn(window.globalFn.pjaxComplete)
  })

  document.addEventListener('pjax:error', e => {
    if (e.request.status === 404) {
      window.location.href = e.request.responseURL
    }
  })
})()</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>